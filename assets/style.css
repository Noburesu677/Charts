/* === Variables & reset === */
:root {
  --bg: #000011;
  --text: #eeeeff;
  --accent: #66ccff;
  --panel-bg: rgba(0,0,16,0.6);
}
* { margin:0; padding:0; box-sizing:border-box; }
body {
  margin:0; padding:0;
  background:var(--bg); color:var(--text);
  font-family:'Press Start 2P',monospace;
  overflow-x:hidden; min-height:100vh;
}
/* Starfield behind everything, non-interactive */
#starfield {
  position:fixed; top:0; left:0;
  width:100%; height:100%;
  z-index:-2;
  pointer-events:none;
}

/* Header */
header {
  position:relative; z-index:10;
  display:flex; justify-content:space-between; align-items:center;
  padding:1rem 2rem; background:var(--panel-bg);
  backdrop-filter:blur(4px); border-bottom:1px solid var(--accent);
  animation:fadeInDown 0.8s ease-out;
}
header .logo h1 { color:var(--accent); font-size:1.4rem; }
nav a {
  margin-left:1.5rem; color:var(--text); text-decoration:none;
  opacity:0; transform:translateY(-10px);
  animation:navFade 0.6s ease-out forwards;
}
nav a:nth-child(1){animation-delay:0.3s}
nav a:nth-child(2){animation-delay:0.5s}
nav a:hover,nav a.active{color:#fff}
nav a.active::after {
  content:""; position:absolute; bottom:-4px; left:0;
  width:100%; height:2px; background:var(--accent);
}

/* Main container centré */
main {
  position:relative; z-index:5;
  display:flex; justify-content:center; align-items:center;
  padding:2rem;
}

/* Chart box */
#chartContainer {
  position:relative; z-index:5;
  display:flex; flex-direction:column; justify-content:flex-start; align-items:center;
  background:var(--panel-bg); backdrop-filter:blur(4px);
  padding:1.5rem; border:1px solid var(--accent); border-radius:8px;
  width:70vw; max-width:1000px; height:75vh; margin:auto;
  animation:glow 4s ease-in-out infinite alternate;
  overflow:hidden;
}
@keyframes glow {
  from{box-shadow:0 0 10px var(--accent)}
  to  {box-shadow:0 0 30px var(--accent)}
}
#chartContainer canvas#miniChart {
  width:100% !important; margin-bottom:1rem;
}
#chartContainer canvas#mainChart {
  width:100% !important;
  max-height:calc(75vh - 140px) !important; margin-top:-0.5rem;
}

/* Loading overlay */
#loadingOverlay {
  position:absolute; top:0; left:0; z-index:6;
  width:100%; height:100%;
  background:rgba(0,0,16,0.7);
  display:flex; justify-content:center; align-items:center;
}
.spinner {
  width:40px; height:40px;
  border:4px solid rgba(255,255,255,0.3);
  border-top:4px solid var(--accent);
  border-radius:50%; animation:spin 1s linear infinite;
}

/* Fullscreen centering */
#chartContainer:fullscreen,
#chartContainer:-webkit-full-screen {
  width:100vw !important; height:100vh !important;
}
#chartContainer:fullscreen canvas#mainChart,
#chartContainer:-webkit-full-screen canvas#mainChart {
  max-height:none !important;
}

/* Controls */
.chart-controls {
  position:absolute; top:1rem; right:1rem; z-index:7;
  display:flex; gap:0.5rem;
}
.chart-controls button {
  background:rgba(0,0,16,0.8); border:1px solid var(--accent);
  border-radius:4px; width:36px; height:36px; cursor:pointer;
  transition:background 0.3s,transform 0.3s;
}
.chart-controls button:hover {
  background:var(--accent); transform:scale(1.1);
}
#fullscreenBtn::before { content:'⤢'; color:var(--text) }
#contrastBtn::before { content:'⚡'; color:var(--text) }

/* Footer */
footer {
  position:relative; z-index:5;
  text-align:center; padding:0.5rem;
  background:var(--panel-bg); backdrop-filter:blur(4px);
  font-size:0.75rem; color:#777;
}

/* Animations */
@keyframes fadeIn         { from{opacity:0} to{opacity:1} }
@keyframes fadeInDown     { from{opacity:0;transform:translateY(-20px)} to{opacity:1;transform:none} }
@keyframes navFade        { to{opacity:1;transform:none} }
@keyframes spin           { to{transform:rotate(360deg)} }
