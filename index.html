<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AnomicValue Charts</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <!-- Floating dunes background -->
  <canvas id="duneCanvas"></canvas>

  <header>
    <div class="logo">
      <img src="assets/logo.png" alt="AnomicValue" />
      <h1>AnomicValue Charts</h1>
    </div>
    <nav>
      <a href="#all">All</a>
      <a href="#1d">1D</a>
      <a href="#1w">1W</a>
      <a href="#1m">1M</a>
      <a href="#1y">1Y</a>
    </nav>
  </header>

  <main id="content">
    <!-- Chart will be injected here by your existing JS -->
    <div id="chartContainer">
      <img id="chartImg" src="" alt="Price History Chart" />
    </div>
  </main>

  <footer>
    <p>Â© 2025 AnomicValue. All rights reserved.</p>
  </footer>

  <script>
    // Simple dune-sand wave animation
    const canvas = document.getElementById('duneCanvas');
    const ctx = canvas.getContext('2d');
    let w, h, t = 0;
    function resize() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    function drawDunes() {
      ctx.clearRect(0, 0, w, h);
      for (let i = 0; i < 3; i++) {
        const y = h * (0.6 + i*0.1);
        ctx.fillStyle = `rgba(235,200,120,${0.2 + i*0.1})`;
        ctx.beginPath();
        ctx.moveTo(0, y);
        for (let x = 0; x <= w; x += 20) {
          const dy = Math.sin((x * 0.02) + t * (0.5 + i*0.2)) * 20;
          ctx.lineTo(x, y + dy);
        }
        ctx.lineTo(w, h);
        ctx.lineTo(0, h);
        ctx.closePath();
        ctx.fill();
      }
      t += 0.01;
      requestAnimationFrame(drawDunes);
    }
    drawDunes();

    // Tab switching for different timeframes
    document.querySelectorAll('header nav a').forEach(a => {
      a.addEventListener('click', e => {
        e.preventDefault();
        const mode = a.getAttribute('href').substring(1);
        // Assuming you have a function loadChart(mode):
        loadChart(mode).then(url => {
          document.getElementById('chartImg').src = url;
        });
        // Highlight active
        document.querySelectorAll('nav a').forEach(n=>n.classList.remove('active'));
        a.classList.add('active');
      });
    });
    // Initialize on load
    window.addEventListener('DOMContentLoaded', () => {
      document.querySelector('header nav a[href="#all"]').click();
    });
  </script>
</body>
</html>
